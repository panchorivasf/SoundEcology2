% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/var_diel_spec2.R
\name{var_diel_spec2}
\alias{var_diel_spec2}
\title{Generate a Variance Diel Spectrogram from multiple Audio Recordings}
\usage{
var_diel_spec2(
  folder = NULL,
  recursive = TRUE,
  list = NULL,
  title = "",
  n.cores = -1,
  cutoff = -100,
  max_amp = -10,
  plot = TRUE,
  save_plot = TRUE,
  save_ribbons = TRUE,
  save_to = "./diel_plots",
  dc_on = NULL,
  dc_off = NULL,
  target_dates = NULL
)
}
\arguments{
\item{folder}{Path to the folder containing WAV files (default: current
working directory).}

\item{recursive}{Logical. Whether to search files in subfolders. Default: TRUE.}

\item{list}{A list with WAV files to parse. The waves must be in the working
directory (default: NULL).}

\item{title}{Character string. Plot title (default: empty).}

\item{n.cores}{Number of cores for parallel processing (-1 for all available
cores)}

\item{cutoff}{Minimum dBFS value (noise floor). Values below this will be
clipped (default: -100)}

\item{max_amp}{Maximum dBFS value to be represented by the color scale.}

\item{plot}{Whether to generate the plot (default: TRUE)}

\item{save_plot}{Logical. Whether to save the plots.}

\item{save_ribbons}{Logical. If TRUE, creates a seasonal plot showing mean
values across frequency bands as thin horizontal ribbons for each day
(default: FALSE)}

\item{save_to}{Character. If save_plot = TRUE, provide a path to the folder
where the file should be stored. If no path is provided, a new folder
"diel_plots" is created in the current working directory (default) to save
the exported files.}

\item{dc_on}{Number of minutes where the recorded was "on". Used to identify
expected number of files per day.}

\item{dc_off}{Number of minutes where the recorded was "off". Used to identify
expected number of files per day.}

\item{target_dates}{Either a single date or multiple dates in the format
"YYYY-MM-DD" to be analyzed. If NULL (default), all the dates in the folder
will be parsed. To provide a range, see Details.}
}
\value{
A list containing:
\itemize{
\item plot - The ggplot2 spectrogram object
\item spectral_data - Wide-format spectral data (freq bins Ã— recordings)
\item plot_data - Long-format data for plotting
\item file_metadata - File information with extracted metadata
\item overall_range - The dBFS range of all data
\item seasonal_data - If seasonal_plot=TRUE, the data used for seasonal plot
\item seasonal_plot - If seasonal_plot=TRUE, the seasonal plot object
\item combined_seasonal_plot - If multiple days and seasonal_plot=TRUE, the combined plot
}
}
\description{
Creates a spectrogram visualization of daily acoustic patterns using
multiple recordings, with options for noise floor clipping and parallel
processing. Includes a new seasonal plot option that summarizes data into
frequency bands across multiple days as thin horizontal ribbons.
}
